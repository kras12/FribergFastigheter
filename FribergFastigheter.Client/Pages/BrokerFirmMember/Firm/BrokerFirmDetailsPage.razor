@page "/brokermember/brokerfirm"
@layout BrokerBackOfficeLayout
@using FribergFastigheter.Client.Components
@using FribergFastigheter.Client.Components.Housing
@using FribergFastigheter.Client.Layout.BrokerFirmMember
@using FribergFastigheter.Shared.Constants
@using Microsoft.AspNetCore.Authorization
@using FribergFastigheter.Client.Components.BrokerFirm
@using FribergFastigheter.Client.Components.Broker
@*
<!-- Author: Marcus -->
<!-- Co Authors: -->
*@
@attribute [Authorize(Policy = ApplicationPolicies.Broker)]

@if(BrokerFirm != null)
{
    <BrokerFirmDetails BrokerFirm="BrokerFirm" />
    <div class="text-center">
    <button class="center" @onclick="@(() => OpenBrokerList())">Alla mäklare som jobbar för @BrokerFirm.Name</button>
    <button class="center" @onclick="@(() => OpenHousingList())">Alla hus objekt @BrokerFirm.Name har ute just nu</button>
    </div>
    @if(IsBrokerListorHousingListActive == null)
    {
        
    }
    else if (IsBrokerListorHousingListActive == false)
    {
        <HousingList Housings="Housings" />
    }
    else
    {
        <BrokerList Brokers="Brokers" />
    }
}
